<html><head><title>async / await in your browser</title>
<script src="jquery/jquery-2.0.2.min.js"></script>
<script src="../lib/galaxy.js"></script>
<script>
var sleep = galaxy.star(function(millis, cb) {
	setTimeout(cb, millis);
});

function* hello() {
	$('#results').append("hello ...");
	yield sleep(1000);
	$('#results').append(" world!<br>");
	return "bye";
}

$(function() {
	galaxy.unstar(hello)(function(err, result) {
		if (err) throw err;
		$('#results').append(result);
	});	
});
</script>
</head>
<body>
	<div id="results">
</body>
</html>